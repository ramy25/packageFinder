{"version":3,"sources":["state/action-types/index.js","state/reducers/repositoriesReducer.js","state/reducers/index.js","state/store.js","state/action-creators/index.js","components/RepositoriesList.js","hooks/useActions.js","components/App.js","index.js"],"names":["SEARCH_REPOSITORIES","SEARCH_REPOSITORIES_SUCCESS","SEARCH_REPOSITORIES_ERROR","initialState","loading","error","data","reducer","state","action","type","payload","reducers","combineReducers","repositories","repositoriesReducer","store","createStore","applyMiddleware","thunk","searchRepositories","term","dispatch","a","axios","get","params","text","pckg","objects","map","result","package","message","RepositoriesList","useState","setTerm","useDispatch","bindActionCreators","actionCreators","useActions","useSelector","onSubmit","event","preventDefault","className","placeholder","value","onChange","e","target","pkg","name","description","Object","entries","links","key","val","rel","href","App","ReactDOM","render","document","getElementById"],"mappings":"kPAAaA,EAAsB,sBACtBC,EAA8B,8BAC9BC,EAA4B,4BCInCC,EAAe,CACnBC,SAAS,EACTC,MAAO,KACPC,KAAM,IAgBOC,EAbC,WAAmC,IAAlCC,EAAiC,uDAAzBL,EAAcM,EAAW,uCAChD,OAAQA,EAAOC,MACb,KAAKV,EACH,MAAO,CAAEI,SAAS,EAAMC,MAAO,KAAMC,KAAM,IAC7C,KAAKL,EACH,MAAO,CAAEG,SAAS,EAAOC,MAAO,KAAMC,KAAMG,EAAOE,SACrD,KAAKT,EACH,MAAO,CAAEE,SAAS,EAAOC,MAAOI,EAAOE,QAASL,KAAM,IACxD,QACE,OAAOE,ICdEI,EAJEC,YAAgB,CAC/BC,aAAcC,ICAHC,EAAQC,YAAYL,EAAU,GAAIM,YAAgBC,M,yCCGlDC,EAAqB,SAACC,GACjC,8CAAO,WAAOC,GAAP,mBAAAC,EAAA,6DACLD,EAAS,CACPZ,KAAMV,IAFH,kBAMoBwB,IAAMC,IAC3B,yCACA,CACEC,OAAQ,CACNC,KAAMN,KAVT,gBAMKf,EANL,EAMKA,KASFsB,EAAOtB,EAAKuB,QAAQC,KAAI,SAACC,GAC7B,OAAOA,EAAOC,WAGhBV,EAAS,CACPZ,KAAMT,EACNU,QAASiB,IArBR,kDAwBHN,EAAS,CACPZ,KAAMR,EACNS,QAAS,KAAIsB,UA1BZ,0DAAP,uD,sBC0CaC,EA9CU,WACvB,MAAwBC,mBAAS,IAAjC,mBAAOd,EAAP,KAAae,EAAb,KACQhB,ECFgB,WACxB,IAAME,EAAWe,cAEjB,OAAOC,YAAmBC,EAAgBjB,GDDXkB,GAAvBpB,mBACR,EAAiCqB,aAAY,SAACjC,GAAD,OAAWA,EAAMM,gBAAtDR,EAAR,EAAQA,KAAMD,EAAd,EAAcA,MAAOD,EAArB,EAAqBA,QAQrB,OACE,gCACE,sBAAMsC,SARO,SAACC,GAChBA,EAAMC,iBAENxB,EAAmBC,IAKjB,SACE,uBACEwB,UAAU,cACVC,YAAY,2BACZC,MAAO1B,EACP2B,SAAU,SAACC,GAAD,OAAOb,EAAQa,EAAEC,OAAOH,YAIrC1C,GAAS,6BAAKA,IACdD,GAAW,6CACVC,IACCD,GACDE,EAAKwB,KAAI,SAACqB,GAAD,OACP,sBAAKN,UAAU,UAAf,UACE,6BAAKM,EAAIC,OACT,6BAAKD,EAAIE,cACT,8CACA,6BACGC,OAAOC,QAAQJ,EAAIK,OAAO1B,KAAI,mCAAE2B,EAAF,KAAOC,EAAP,YAC7B,6BACE,mBAAGC,IAAI,aAAaT,OAAO,SAASU,KAAMF,EAA1C,SACGD,KAFIA,UANeN,EAAIC,aEhB7BS,EAXH,WACV,OACE,cAAC,IAAD,CAAU7C,MAAOA,EAAjB,SACE,sBAAK6B,UAAU,aAAf,UACE,sDACA,cAAC,EAAD,U,MCLRiB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.6330cf00.chunk.js","sourcesContent":["export const SEARCH_REPOSITORIES = 'search_repositories';\r\nexport const SEARCH_REPOSITORIES_SUCCESS = 'search_repositories_success';\r\nexport const SEARCH_REPOSITORIES_ERROR = 'search_repositories_error';\r\n","import {\r\n  SEARCH_REPOSITORIES,\r\n  SEARCH_REPOSITORIES_SUCCESS,\r\n  SEARCH_REPOSITORIES_ERROR,\r\n} from '../action-types';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  data: [],\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEARCH_REPOSITORIES:\r\n      return { loading: true, error: null, data: [] };\r\n    case SEARCH_REPOSITORIES_SUCCESS:\r\n      return { loading: false, error: null, data: action.payload };\r\n    case SEARCH_REPOSITORIES_ERROR:\r\n      return { loading: false, error: action.payload, data: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\r\nimport repositoriesReducer from './repositoriesReducer';\r\n\r\nconst reducers = combineReducers({\r\n  repositories: repositoriesReducer,\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\n\r\nexport const store = createStore(reducers, {}, applyMiddleware(thunk));\r\n","import axios from 'axios';\r\nimport {\r\n  SEARCH_REPOSITORIES,\r\n  SEARCH_REPOSITORIES_SUCCESS,\r\n  SEARCH_REPOSITORIES_ERROR,\r\n} from '../action-types';\r\n\r\nexport const searchRepositories = (term) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: SEARCH_REPOSITORIES,\r\n    });\r\n\r\n    try {\r\n      const { data } = await axios.get(\r\n        'https://registry.npmjs.org/-/v1/search',\r\n        {\r\n          params: {\r\n            text: term,\r\n          },\r\n        }\r\n      );\r\n\r\n      const pckg = data.objects.map((result) => {\r\n        return result.package;\r\n      });\r\n\r\n      dispatch({\r\n        type: SEARCH_REPOSITORIES_SUCCESS,\r\n        payload: pckg,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: SEARCH_REPOSITORIES_ERROR,\r\n        payload: err.message,\r\n      });\r\n    }\r\n  };\r\n};\r\n","import { useState } from 'react';\r\nimport { useActions } from '../hooks/useActions';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst RepositoriesList = () => {\r\n  const [term, setTerm] = useState('');\r\n  const { searchRepositories } = useActions();\r\n  const { data, error, loading } = useSelector((state) => state.repositories);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    searchRepositories(term);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <input\r\n          className=\"searchInput\"\r\n          placeholder=\"Type the package name...\"\r\n          value={term}\r\n          onChange={(e) => setTerm(e.target.value)}\r\n        />\r\n      </form>\r\n\r\n      {error && <h3>{error}</h3>}\r\n      {loading && <h3>Loading...</h3>}\r\n      {!error &&\r\n        !loading &&\r\n        data.map((pkg) => (\r\n          <div className=\"pckgBox\" key={pkg.name}>\r\n            <h1>{pkg.name}</h1>\r\n            <h2>{pkg.description}</h2>\r\n            <h3>Useful links</h3>\r\n            <ul>\r\n              {Object.entries(pkg.links).map(([key, val]) => (\r\n                <li key={key}>\r\n                  <a rel=\"noreferrer\" target=\"_blank\" href={val}>\r\n                    {key}\r\n                  </a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RepositoriesList;\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionCreators } from '../state';\r\n\r\nexport const useActions = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  return bindActionCreators(actionCreators, dispatch);\r\n};\r\n","import { Provider } from 'react-redux';\r\nimport { store } from '../state';\r\nimport RepositoriesList from './RepositoriesList.js';\r\n\r\nconst App = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <div className=\"mwidth_800\">\r\n        <h1>Search For a Package</h1>\r\n        <RepositoriesList />\r\n      </div>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}